name: Morning Stock Guard

on:
  schedule:
    # 台灣時間早上 9:05 執行 (UTC 1:05)
    - cron: '5 1 * * 1-5' 
  workflow_dispatch: # 保留手動按鈕，方便你測試

jobs:
  run-daily-report:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      
      - name: Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.10'
          
      - name: Install Dependencies
        run: pip install requests
        
      - name: Run Scan Script
        env:
          LINE_TOKEN: ${{ secrets.LINE_TOKEN }}
          USER_ID: ${{ secrets.USER_ID }}
        run: python auto_scan.py
